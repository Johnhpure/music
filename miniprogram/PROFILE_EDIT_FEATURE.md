# å°ç¨‹åºç”¨æˆ·èµ„æ–™ç¼–è¾‘åŠŸèƒ½æ–‡æ¡£

## ğŸ“‹ åŠŸèƒ½æ¦‚è¿°

å®ç°äº†ç‚¹å‡»ä¸ªäººä¸­å¿ƒå¤´åƒè§¦å‘å¾®ä¿¡æˆæƒå¹¶ç¼–è¾‘ç”¨æˆ·èµ„æ–™çš„åŠŸèƒ½ï¼ŒåŒ…æ‹¬å¤´åƒé€‰æ‹©å’Œæ˜µç§°è¾“å…¥ã€‚

## âœ¨ åŠŸèƒ½ç‰¹æ€§

- âœ… ç‚¹å‡»å¤´åƒè§¦å‘ç¼–è¾‘
- âœ… ä½¿ç”¨å¾®ä¿¡æœ€æ–°çš„å¤´åƒæ˜µç§°å¡«å†™èƒ½åŠ›
- âœ… æ”¯æŒå¤´åƒé€‰æ‹©ï¼ˆè°ƒç”¨å¾®ä¿¡åŸç”Ÿé€‰æ‹©å™¨ï¼‰
- âœ… æ”¯æŒæ˜µç§°è¾“å…¥ï¼ˆå¾®ä¿¡å®‰å…¨æ£€æµ‹ï¼‰
- âœ… å¤´åƒä¸Šä¼ åˆ°æœåŠ¡å™¨ï¼ˆå¯é€‰ï¼‰
- âœ… ä¿å­˜åˆ°åç«¯æ•°æ®åº“
- âœ… å®æ—¶æ›´æ–°é¡µé¢æ˜¾ç¤º

---

## ğŸ¯ ä½¿ç”¨æ–¹æ³•

### ç”¨æˆ·æ“ä½œæµç¨‹

1. **è¿›å…¥ä¸ªäººä¸­å¿ƒ**
   - æ‰“å¼€å°ç¨‹åº
   - åˆ‡æ¢åˆ°"æˆ‘çš„"Tab

2. **ç¼–è¾‘èµ„æ–™**
   - ç‚¹å‡»ä¸ªäººä¸­å¿ƒé¡¶éƒ¨çš„å¤´åƒæˆ–æ˜µç§°
   - è¿›å…¥"ç¼–è¾‘èµ„æ–™"é¡µé¢

3. **é€‰æ‹©å¤´åƒ**
   - ç‚¹å‡»å¤´åƒåŒºåŸŸçš„"ç‚¹å‡»æ›´æ¢"æŒ‰é’®
   - å¾®ä¿¡ä¼šå¼¹å‡ºå¤´åƒé€‰æ‹©å™¨
   - ä»ç›¸å†Œé€‰æ‹©æˆ–æ‹ç…§
   - ç³»ç»Ÿè‡ªåŠ¨é¢„è§ˆæ–°å¤´åƒ

4. **è¾“å…¥æ˜µç§°**
   - ç‚¹å‡»æ˜µç§°è¾“å…¥æ¡†
   - é”®ç›˜ä¸Šæ–¹ä¼šæ˜¾ç¤º"å¾®ä¿¡æ˜µç§°"å­—æ ·
   - è¾“å…¥æ–°æ˜µç§°ï¼ˆæœ€å¤š32ä¸ªå­—ç¬¦ï¼‰
   - ç³»ç»Ÿä¼šè‡ªåŠ¨è¿›è¡Œå®‰å…¨æ£€æµ‹

5. **ä¿å­˜ä¿¡æ¯**
   - ç‚¹å‡»"ä¿å­˜"æŒ‰é’®
   - ç³»ç»Ÿä¸Šä¼ å¤´åƒå¹¶ä¿å­˜åˆ°æœåŠ¡å™¨
   - æ›´æ–°æœ¬åœ°å­˜å‚¨å’Œé¡µé¢æ˜¾ç¤º
   - è¿”å›ä¸ªäººä¸­å¿ƒé¡µé¢

---

## ğŸ› ï¸ æŠ€æœ¯å®ç°

### 1. æ–‡ä»¶ç»“æ„

```
miniprogram/
â”œâ”€â”€ pages/
â”‚   â””â”€â”€ user/
â”‚       â”œâ”€â”€ index.vue              # ä¸ªäººä¸­å¿ƒé¡µé¢ï¼ˆå·²ä¿®æ”¹ï¼‰
â”‚       â””â”€â”€ profile-edit.vue       # æ–°å¢ï¼šç”¨æˆ·èµ„æ–™ç¼–è¾‘é¡µé¢
â”œâ”€â”€ api/
â”‚   â””â”€â”€ api.js                     # APIæ¥å£ï¼ˆå·²æ·»åŠ ç”¨æˆ·ç›¸å…³æ¥å£ï¼‰
â””â”€â”€ pages.json                     # è·¯ç”±é…ç½®ï¼ˆå·²æ·»åŠ æ–°é¡µé¢ï¼‰
```

### 2. æ ¸å¿ƒä»£ç 

#### 2.1 ä¸ªäººä¸­å¿ƒé¡µé¢ï¼ˆindex.vueï¼‰

**ä¿®æ”¹ç‚¹**ï¼š
- å¤´åƒæ·»åŠ ç‚¹å‡»äº‹ä»¶ï¼š`@click="editProfile"`
- æ˜µç§°æ·»åŠ ç‚¹å‡»äº‹ä»¶
- é¡µé¢åŠ è½½æ—¶è¯»å–ç”¨æˆ·ä¿¡æ¯ï¼š`loadUserInfo()`

```vue
<!-- å¤´åƒç‚¹å‡» -->
<image class="user-avatar" :src="userImage" @click="editProfile"></image>

<!-- æ˜µç§°ç‚¹å‡» -->
<text class="user-name" @click="editProfile">{{ userName }}</text>

<script>
methods: {
  editProfile() {
    uni.navigateTo({
      url: '/pages/user/profile-edit'
    })
  },
  loadUserInfo() {
    const userInfo = uni.getStorageSync('userInfo')
    if (userInfo) {
      this.userImage = userInfo.avatar || '/static/img/profile.svg'
      this.userName = userInfo.nickname || 'éŸ³ä¹åˆ›ä½œè€…'
    }
  }
}
</script>
```

#### 2.2 ç”¨æˆ·èµ„æ–™ç¼–è¾‘é¡µé¢ï¼ˆprofile-edit.vueï¼‰

**æ ¸å¿ƒåŠŸèƒ½**ï¼š

1. **å¤´åƒé€‰æ‹©**ï¼ˆä½¿ç”¨å¾®ä¿¡æœ€æ–°èƒ½åŠ›ï¼‰

```vue
<button 
  class="avatar-button" 
  open-type="chooseAvatar" 
  @chooseavatar="onChooseAvatar"
>
  <image class="avatar-preview" :src="avatarUrl"></image>
</button>

<script>
onChooseAvatar(e) {
  const { avatarUrl } = e.detail
  this.tempAvatarPath = avatarUrl
  this.avatarUrl = avatarUrl
}
</script>
```

2. **æ˜µç§°è¾“å…¥**ï¼ˆå¸¦å®‰å…¨æ£€æµ‹ï¼‰

```vue
<input 
  class="nickname-input" 
  type="nickname"
  v-model="nickname"
  placeholder="è¯·è¾“å…¥æ˜µç§°"
  @blur="onNicknameBlur"
/>

<script>
onNicknameBlur(e) {
  this.nickname = e.detail.value || this.nickname
}
</script>
```

3. **ä¿å­˜é€»è¾‘**

```javascript
async saveProfile() {
  // 1. éªŒè¯è¾“å…¥
  if (!this.nickname.trim()) {
    uni.showToast({ title: 'è¯·è¾“å…¥æ˜µç§°', icon: 'none' })
    return
  }
  
  // 2. ä¸Šä¼ å¤´åƒï¼ˆå¯é€‰ï¼‰
  let avatarUrl = this.avatarUrl
  if (this.tempAvatarPath) {
    avatarUrl = await this.$minApi.uploadAvatar(this.tempAvatarPath)
    // æˆ–ç›´æ¥ä½¿ç”¨ä¸´æ—¶è·¯å¾„ï¼šavatarUrl = this.tempAvatarPath
  }
  
  // 3. è°ƒç”¨APIä¿å­˜
  const result = await this.$minApi.updateUserProfile({
    nickname: this.nickname.trim(),
    avatar: avatarUrl
  })
  
  // 4. æ›´æ–°æœ¬åœ°å­˜å‚¨
  const userInfo = uni.getStorageSync('userInfo') || {}
  userInfo.nickname = this.nickname
  userInfo.avatar = avatarUrl
  uni.setStorageSync('userInfo', userInfo)
  
  // 5. è¿”å›ä¸Šä¸€é¡µ
  uni.navigateBack()
}
```

#### 2.3 APIæ¥å£ï¼ˆapi.jsï¼‰

**æ–°å¢æ¥å£**ï¼š

```javascript
// æ›´æ–°ç”¨æˆ·èµ„æ–™
updateUserProfile(params) {
  return minRequest.post('/user/profile', params, { method: 'PUT' })
},

// ä¸Šä¼ å¤´åƒ
uploadAvatar(filePath) {
  const token = uni.getStorageSync('token')
  return new Promise((resolve, reject) => {
    uni.uploadFile({
      url: globalConfig.baseUrl + '/upload/avatar',
      filePath: filePath,
      name: 'file',
      header: {
        'Authorization': `Bearer ${token}`
      },
      success: (res) => {
        if(res.data.code === 200) {
          resolve(res.data)
        } else {
          reject(res.data)
        }
      },
      fail: (err) => reject(err)
    })
  })
}
```

---

## ğŸ”Œ åç«¯APIå¯¹æ¥

### 1. æ›´æ–°ç”¨æˆ·èµ„æ–™æ¥å£

**æ¥å£**: `PUT /api/v1/user/profile`

**è¯·æ±‚å¤´**:
```
Authorization: Bearer {token}
Content-Type: application/json
```

**è¯·æ±‚å‚æ•°**:
```json
{
  "nickname": "éŸ³ä¹çˆ±å¥½è€…",
  "avatar": "https://example.com/avatar.jpg"
}
```

**æˆåŠŸå“åº”**:
```json
{
  "code": 200,
  "msg": "æ›´æ–°æˆåŠŸ",
  "data": {
    "id": "123",
    "nickname": "éŸ³ä¹çˆ±å¥½è€…",
    "avatar": "https://example.com/avatar.jpg",
    "points": 320,
    ...
  }
}
```

### 2. ä¸Šä¼ å¤´åƒæ¥å£ï¼ˆå¯é€‰ï¼‰

**æ¥å£**: `POST /api/v1/upload/avatar`

**è¯·æ±‚å¤´**:
```
Authorization: Bearer {token}
Content-Type: multipart/form-data
```

**è¯·æ±‚å‚æ•°**:
- `file`: å›¾ç‰‡æ–‡ä»¶ï¼ˆform-dataï¼‰

**æˆåŠŸå“åº”**:
```json
{
  "code": 200,
  "msg": "ä¸Šä¼ æˆåŠŸ",
  "data": {
    "url": "https://example.com/uploads/avatar/xxx.jpg",
    "filename": "xxx.jpg",
    "size": 102400
  }
}
```

---

## ğŸ“± å¾®ä¿¡å°ç¨‹åºAPIè¯´æ˜

### 1. button open-type="chooseAvatar"

**åŠŸèƒ½**: æ‰“å¼€å¾®ä¿¡åŸç”Ÿå¤´åƒé€‰æ‹©å™¨

**ç‰¹æ€§**:
- æ”¯æŒä»ç›¸å†Œé€‰æ‹©æˆ–æ‹ç…§
- è¿”å›ä¸´æ—¶æ–‡ä»¶è·¯å¾„
- æ— éœ€é¢å¤–æˆæƒ
- å¾®ä¿¡åŸºç¡€åº“ 2.21.2+ æ”¯æŒ

**å›è°ƒäº‹ä»¶**:
```javascript
bindchooseavatar="onChooseAvatar"

onChooseAvatar(e) {
  const { avatarUrl } = e.detail
  // avatarUrl æ˜¯å¾®ä¿¡ä¸´æ—¶è·¯å¾„ï¼Œå¦‚ï¼šwxfile://tmp_xxx.jpg
  // å¯ä»¥ç›´æ¥æ˜¾ç¤ºï¼Œæˆ–ä¸Šä¼ åˆ°æœåŠ¡å™¨
}
```

### 2. input type="nickname"

**åŠŸèƒ½**: æ˜µç§°è¾“å…¥æ¡†ï¼ˆå¸¦å®‰å…¨æ£€æµ‹ï¼‰

**ç‰¹æ€§**:
- é”®ç›˜ä¸Šæ–¹æ˜¾ç¤º"å¾®ä¿¡æ˜µç§°"æç¤º
- è‡ªåŠ¨è¿›è¡Œå†…å®¹å®‰å…¨æ£€æµ‹
- æ£€æµ‹è¿è§„å†…å®¹è‡ªåŠ¨æç¤º
- å¾®ä¿¡åŸºç¡€åº“ 2.21.2+ æ”¯æŒ

**ä½¿ç”¨**:
```html
<input 
  type="nickname" 
  placeholder="è¯·è¾“å…¥æ˜µç§°"
  @blur="onNicknameBlur"
/>
```

---

## âš ï¸ æ³¨æ„äº‹é¡¹

### 1. å¤´åƒå¤„ç†

**ä¸´æ—¶è·¯å¾„ vs æœåŠ¡å™¨URL**:
- **ä¸´æ—¶è·¯å¾„**: `wxfile://tmp_xxx.jpg`
  - ä¼˜ç‚¹ï¼šæ— éœ€ä¸Šä¼ ï¼Œé€Ÿåº¦å¿«
  - ç¼ºç‚¹ï¼šæœ‰æ•ˆæœŸçŸ­ï¼Œæ— æ³•è·¨è®¾å¤‡
  - é€‚ç”¨åœºæ™¯ï¼šä»…åœ¨å½“å‰è®¾å¤‡æ˜¾ç¤º

- **æœåŠ¡å™¨URL**: `https://example.com/avatar.jpg`
  - ä¼˜ç‚¹ï¼šæ°¸ä¹…ä¿å­˜ï¼Œè·¨è®¾å¤‡åŒæ­¥
  - ç¼ºç‚¹ï¼šéœ€è¦ä¸Šä¼ ï¼Œå¤šä¸€æ­¥æ“ä½œ
  - é€‚ç”¨åœºæ™¯ï¼šéœ€è¦è·¨è®¾å¤‡ã€é•¿æœŸä¿å­˜

**æ¨èæ–¹æ¡ˆ**:
```javascript
// æ–¹æ¡ˆ1ï¼šç›´æ¥ä½¿ç”¨ä¸´æ—¶è·¯å¾„ï¼ˆç®€å•å¿«é€Ÿï¼‰
avatarUrl = this.tempAvatarPath

// æ–¹æ¡ˆ2ï¼šä¸Šä¼ åˆ°æœåŠ¡å™¨ï¼ˆæ¨èï¼‰
avatarUrl = await this.$minApi.uploadAvatar(this.tempAvatarPath)
```

### 2. æ˜µç§°å®‰å…¨æ£€æµ‹

å¾®ä¿¡ä¼šè‡ªåŠ¨æ£€æµ‹æ˜µç§°å†…å®¹ï¼Œå¦‚æœåŒ…å«è¿è§„å†…å®¹ï¼š
- ä¸ä¼šç›´æ¥æŠ¥é”™
- ä½†å¯èƒ½åœ¨åç»­ä½¿ç”¨ä¸­è¢«é™åˆ¶
- å»ºè®®åœ¨åç«¯ä¹ŸåšäºŒæ¬¡æ£€æµ‹

### 3. å…¼å®¹æ€§

**å¾®ä¿¡åŸºç¡€åº“è¦æ±‚**: 2.21.2+

**æ£€æµ‹æ–¹æ³•**:
```javascript
// æ£€æŸ¥æ˜¯å¦æ”¯æŒæ–°èƒ½åŠ›
if (wx.canIUse('button.open-type.chooseAvatar')) {
  // æ”¯æŒæ–°ç‰ˆå¤´åƒé€‰æ‹©
} else {
  // ä½¿ç”¨æ—§ç‰ˆæ–¹å¼æˆ–æç¤ºå‡çº§
}
```

### 4. ç”¨æˆ·ä½“éªŒä¼˜åŒ–

**åŠ è½½æç¤º**:
```javascript
uni.showLoading({ title: 'ä¸Šä¼ å¤´åƒä¸­...' })
uni.showLoading({ title: 'ä¿å­˜ä¸­...' })
uni.hideLoading()
```

**é”™è¯¯å¤„ç†**:
```javascript
try {
  await this.saveProfile()
} catch (error) {
  uni.showToast({
    title: error.message || 'ä¿å­˜å¤±è´¥',
    icon: 'none',
    duration: 2000
  })
}
```

**æˆåŠŸåé¦ˆ**:
```javascript
uni.showToast({
  title: 'ä¿å­˜æˆåŠŸ',
  icon: 'success',
  duration: 2000
})

setTimeout(() => {
  uni.navigateBack()
}, 1500)
```

---

## ğŸ¨ UIè®¾è®¡

### é¡µé¢å¸ƒå±€

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   ç¼–è¾‘ä¸ªäººèµ„æ–™             â”‚ â† å¯¼èˆªæ 
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                         â”‚
â”‚   [å¤´åƒ]                 â”‚ â† å¤´åƒé€‰æ‹©åŒº
â”‚   ğŸ“· ç‚¹å‡»æ›´æ¢             â”‚
â”‚                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ æ˜µç§°                     â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ è¯·è¾“å…¥æ˜µç§°           â”‚ â”‚ â† æ˜µç§°è¾“å…¥æ¡†
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ“Œ å¤´åƒå’Œæ˜µç§°å°†åœ¨æ‰€æœ‰...  â”‚
â”‚ ğŸ“Œ è¯·å‹¿ä¸Šä¼ è¿è§„å†…å®¹...    â”‚ â† æç¤ºä¿¡æ¯
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                         â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚   â”‚    ä¿å­˜       â”‚     â”‚ â† ä¿å­˜æŒ‰é’®
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚   â”‚    å–æ¶ˆ       â”‚     â”‚ â† å–æ¶ˆæŒ‰é’®
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æ ·å¼ç‰¹ç‚¹

- **æ·±è‰²ä¸»é¢˜**: #121212 èƒŒæ™¯
- **æ¸å˜æŒ‰é’®**: è“ç´«æ¸å˜
- **åœ†è§’è®¾è®¡**: 16rpx å¡ç‰‡åœ†è§’
- **äº¤äº’åé¦ˆ**: hover æ€ + ç‚¹å‡»æ•ˆæœ

---

## ğŸ§ª æµ‹è¯•å»ºè®®

### åŠŸèƒ½æµ‹è¯•

1. **åŸºç¡€åŠŸèƒ½**
   - âœ… ç‚¹å‡»å¤´åƒèƒ½å¦è·³è½¬
   - âœ… å¤´åƒé€‰æ‹©èƒ½å¦æ­£å¸¸æ˜¾ç¤º
   - âœ… æ˜µç§°è¾“å…¥èƒ½å¦æ­£å¸¸ä¿å­˜
   - âœ… ä¿å­˜åèƒ½å¦æ­£ç¡®è¿”å›
   - âœ… ä¸ªäººä¸­å¿ƒèƒ½å¦æ˜¾ç¤ºæ–°ä¿¡æ¯

2. **å¼‚å¸¸æƒ…å†µ**
   - âœ… ä¸é€‰æ‹©å¤´åƒç›´æ¥ä¿å­˜
   - âœ… è¾“å…¥ç©ºæ˜µç§°
   - âœ… è¾“å…¥è¿‡é•¿æ˜µç§°ï¼ˆ>32å­—ç¬¦ï¼‰
   - âœ… è¾“å…¥ç‰¹æ®Šå­—ç¬¦
   - âœ… ç½‘ç»œå¼‚å¸¸æ—¶çš„å¤„ç†

3. **è¾¹ç•Œæƒ…å†µ**
   - âœ… é¦–æ¬¡ä½¿ç”¨ï¼ˆæ— ç”¨æˆ·ä¿¡æ¯ï¼‰
   - âœ… Tokenè¿‡æœŸ
   - âœ… ä¸Šä¼ è¶…å¤§å›¾ç‰‡
   - âœ… é¢‘ç¹åˆ‡æ¢å¤´åƒ

### æ€§èƒ½æµ‹è¯•

- å¤´åƒä¸Šä¼ é€Ÿåº¦ï¼ˆä¸åŒç½‘ç»œç¯å¢ƒï¼‰
- é¡µé¢åŠ è½½æ—¶é—´
- å†…å­˜å ç”¨æƒ…å†µ

---

## ğŸ“ æ›´æ–°æ—¥å¿—

### v1.0.0 (2024-10-16)

- âœ¨ æ–°å¢ç”¨æˆ·èµ„æ–™ç¼–è¾‘é¡µé¢
- âœ¨ å®ç°å¤´åƒé€‰æ‹©åŠŸèƒ½ï¼ˆå¾®ä¿¡æœ€æ–°èƒ½åŠ›ï¼‰
- âœ¨ å®ç°æ˜µç§°è¾“å…¥åŠŸèƒ½ï¼ˆå¸¦å®‰å…¨æ£€æµ‹ï¼‰
- âœ¨ æ–°å¢å¤´åƒä¸Šä¼ API
- âœ¨ æ–°å¢ç”¨æˆ·èµ„æ–™æ›´æ–°API
- ğŸ› ä¿®å¤ä¸ªäººä¸­å¿ƒç”¨æˆ·ä¿¡æ¯ä¸æ›´æ–°é—®é¢˜
- ğŸ“ å®Œå–„æ–‡æ¡£å’Œæ³¨é‡Š

---

## ğŸš€ ä¸‹ä¸€æ­¥ä¼˜åŒ–å»ºè®®

### åŠŸèƒ½æ‰©å±•

1. **å›¾ç‰‡è£å‰ª**
   - é€‰æ‹©å¤´åƒåå…è®¸è£å‰ª
   - æ”¯æŒç¼©æ”¾å’Œæ—‹è½¬
   - å›ºå®šæ¯”ä¾‹ï¼ˆ1:1ï¼‰

2. **å¤´åƒåº“**
   - æä¾›é»˜è®¤å¤´åƒé€‰é¡¹
   - æ”¯æŒä»å¤´åƒåº“é€‰æ‹©
   - AIç”Ÿæˆå¤´åƒ

3. **æ›´å¤šèµ„æ–™**
   - æ€§åˆ«é€‰æ‹©
   - ä¸ªäººç­¾å
   - æ‰€åœ¨åœ°åŒº
   - ç”Ÿæ—¥

4. **å®æ—¶é¢„è§ˆ**
   - ç¼–è¾‘æ—¶å®æ—¶é¢„è§ˆ
   - å¯¹æ¯”ç¼–è¾‘å‰åæ•ˆæœ

### æ€§èƒ½ä¼˜åŒ–

1. **å›¾ç‰‡å‹ç¼©**
   - ä¸Šä¼ å‰è‡ªåŠ¨å‹ç¼©
   - å‡å°‘ä¸Šä¼ æ—¶é—´
   - èŠ‚çœå­˜å‚¨ç©ºé—´

2. **ç¼“å­˜ç­–ç•¥**
   - å¤´åƒæœ¬åœ°ç¼“å­˜
   - å‡å°‘ç½‘ç»œè¯·æ±‚

3. **æ‡’åŠ è½½**
   - é¡µé¢æŒ‰éœ€åŠ è½½
   - æå‡é¦–å±é€Ÿåº¦

---

## ğŸ’¡ å¸¸è§é—®é¢˜

### Q1: ä¸ºä»€ä¹ˆé€‰æ‹©çš„å¤´åƒæ— æ³•æ˜¾ç¤ºï¼Ÿ

**A**: æ£€æŸ¥ä»¥ä¸‹å‡ ç‚¹ï¼š
1. æ˜¯å¦è·å–åˆ°äº†avatarUrl
2. imageæ ‡ç­¾çš„srcæ˜¯å¦æ­£ç¡®ç»‘å®š
3. ç½‘ç»œè¯·æ±‚æ˜¯å¦æˆåŠŸ
4. ä¸´æ—¶è·¯å¾„æ˜¯å¦è¿‡æœŸ

### Q2: æ˜µç§°è¾“å…¥åè¢«å¾®ä¿¡æ‹¦æˆªï¼Ÿ

**A**: å¯èƒ½åŒ…å«è¿è§„å†…å®¹ï¼Œå¾®ä¿¡ä¼šè‡ªåŠ¨æ£€æµ‹ï¼š
1. é¿å…ä½¿ç”¨æ•æ„Ÿè¯
2. ä¸è¦åŒ…å«ç‰¹æ®Šç¬¦å·
3. å»ºè®®ä½¿ç”¨ä¸­æ–‡æˆ–è‹±æ–‡

### Q3: å¦‚ä½•è‡ªå®šä¹‰å¤´åƒä¸Šä¼ æ¥å£ï¼Ÿ

**A**: ä¿®æ”¹ `api/api.js` ä¸­çš„ `uploadAvatar` æ–¹æ³•ï¼š

```javascript
uploadAvatar(filePath) {
  return new Promise((resolve, reject) => {
    uni.uploadFile({
      url: 'ä½ çš„ä¸Šä¼ åœ°å€', // ä¿®æ”¹è¿™é‡Œ
      filePath: filePath,
      name: 'file',
      // ... å…¶ä»–é…ç½®
    })
  })
}
```

### Q4: èƒ½å¦æ”¯æŒå¾®ä¿¡æ—§ç‰ˆæœ¬ï¼Ÿ

**A**: å¯ä»¥åšå…¼å®¹å¤„ç†ï¼š

```javascript
if (wx.canIUse('button.open-type.chooseAvatar')) {
  // ä½¿ç”¨æ–°ç‰ˆå¤´åƒé€‰æ‹©
} else {
  // ä½¿ç”¨ chooseImage æˆ–æç¤ºå‡çº§
  uni.chooseImage({
    count: 1,
    success: (res) => {
      this.avatarUrl = res.tempFilePaths[0]
    }
  })
}
```

---

## ğŸ“ æŠ€æœ¯æ”¯æŒ

å¦‚æœ‰é—®é¢˜ï¼Œè¯·æŸ¥çœ‹ï¼š
- [å¾®ä¿¡å°ç¨‹åºå®˜æ–¹æ–‡æ¡£](https://developers.weixin.qq.com/miniprogram/dev/framework/)
- [UniAppå®˜æ–¹æ–‡æ¡£](https://uniapp.dcloud.net.cn/)
- [åç«¯APIæ–‡æ¡£](../backend/API_TEST.md)

---

**åŠŸèƒ½å¼€å‘å®Œæˆï¼ç¥æ‚¨ä½¿ç”¨æ„‰å¿«ï¼ğŸ‰**
