# AI音乐平台 - 开发实施计划

## 📋 文档信息

- **项目名称**: AI音乐创作平台 - API统一架构
- **文档版本**: v1.0
- **创建日期**: 2024-01-20
- **计划周期**: 4周（可根据实际情况调整）

---

## 1. 项目概述

### 1.1 目标

构建统一的API架构，使后端服务能够同时支持：
- ✅ 微信小程序端（用户功能）
- ✅ 管理后台（管理功能）
- ✅ 清晰的权限控制
- ✅ 高性能、可扩展

### 1.2 实施策略

采用**渐进式重构**，确保现有功能不受影响：
1. 先构建权限系统和基础设施
2. 逐步迁移现有接口到新架构
3. 开发管理后台专用接口
4. 前端对接和测试
5. 优化和上线

---

## 2. 阶段划分

### Phase 1: 基础设施搭建（第1周）
**目标**: 建立权限系统、统一响应格式、日志系统

### Phase 2: API路由重构（第2周）
**目标**: 现有接口迁移到分层路由结构

### Phase 3: 管理接口开发（第3周）
**目标**: 开发管理后台专用的CRUD、统计、批量操作接口

### Phase 4: 前端对接与测试（第4周）
**目标**: 小程序API调整、管理后台对接、全面测试

---

## 3. 详细任务分解

### 📅 Phase 1: 基础设施搭建（第1周）

#### 任务1.1: 权限系统 [2天]

**1.1.1 创建角色枚举和装饰器**
```bash
创建文件:
- backend/src/common/enums/user-role.enum.ts
- backend/src/common/decorators/roles.decorator.ts
- backend/src/common/decorators/public.decorator.ts
```

```typescript
// user-role.enum.ts
export enum UserRole {
  USER = 'user',
  ADMIN = 'admin',
  SUPER_ADMIN = 'super_admin'
}

// roles.decorator.ts
export const Roles = (...roles: UserRole[]) => SetMetadata('roles', roles);

// public.decorator.ts
export const Public = () => SetMetadata('isPublic', true);
```

**1.1.2 创建AdminGuard**
```bash
创建文件:
- backend/src/common/guards/admin.guard.ts
```

```typescript
@Injectable()
export class AdminGuard implements CanActivate {
  canActivate(context: ExecutionContext): boolean {
    const request = context.switchToHttp().getRequest();
    const user = request.user;
    
    if (!user || user.role !== UserRole.ADMIN) {
      throw new ForbiddenException('需要管理员权限');
    }
    
    return true;
  }
}
```

**1.1.3 修改JWT策略**
```bash
修改文件:
- backend/src/modules/auth/strategies/jwt.strategy.ts
```

在payload中添加role字段，validate方法返回包含role的用户对象。

**1.1.4 数据库迁移**
```sql
-- backend/src/database/migrations/12-add-user-role.sql
ALTER TABLE `t_users` 
ADD COLUMN `role` VARCHAR(20) DEFAULT 'user' COMMENT '角色：user/admin' AFTER `is_admin`,
ADD INDEX `idx_role` (`role`);

-- 将现有管理员标记为admin角色
UPDATE `t_users` SET `role` = 'admin' WHERE `is_admin` = 1;
```

**验收标准**:
- [ ] AdminGuard正确拦截非管理员请求
- [ ] JWT token包含role信息
- [ ] 数据库迁移成功执行

---

#### 任务1.2: 统一响应格式 [1天]

**1.2.1 创建响应拦截器**
```bash
修改文件:
- backend/src/common/interceptors/transform.interceptor.ts
```

```typescript
export class TransformInterceptor<T> implements NestInterceptor<T, Response<T>> {
  intercept(context: ExecutionContext, next: CallHandler): Observable<Response<T>> {
    return next.handle().pipe(
      map(data => ({
        code: 200,
        message: 'success',
        data,
        timestamp: Date.now()
      }))
    );
  }
}
```

**1.2.2 统一异常过滤器**
```bash
修改文件:
- backend/src/common/filters/http-exception.filter.ts
```

确保所有错误响应格式一致。

**验收标准**:
- [ ] 所有成功响应格式统一
- [ ] 所有错误响应格式统一
- [ ] 包含时间戳字段

---

#### 任务1.3: 日志和审计系统 [2天]

**1.3.1 创建管理员操作日志表**
```sql
-- backend/src/database/migrations/13-create-admin-logs.sql
CREATE TABLE IF NOT EXISTS `t_admin_logs` (
  `id` BIGINT UNSIGNED AUTO_INCREMENT PRIMARY KEY,
  `admin_id` INT UNSIGNED NOT NULL COMMENT '管理员ID',
  `action` VARCHAR(100) NOT NULL COMMENT '操作类型',
  `resource` VARCHAR(100) NOT NULL COMMENT '操作资源',
  `resource_id` VARCHAR(50) NULL COMMENT '资源ID',
  `details` JSON NULL COMMENT '操作详情',
  `ip_address` VARCHAR(50) NULL COMMENT 'IP地址',
  `user_agent` VARCHAR(500) NULL COMMENT 'User Agent',
  `created_at` TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  INDEX `idx_admin_created` (`admin_id`, `created_at` DESC),
  INDEX `idx_action` (`action`),
  INDEX `idx_resource` (`resource`, `resource_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='管理员操作日志表';
```

**1.3.2 创建审计服务**
```bash
创建文件:
- backend/src/common/services/audit.service.ts
- backend/src/common/entities/admin-log.entity.ts
```

```typescript
@Injectable()
export class AuditService {
  async log(logData: CreateAdminLogDto): Promise<void> {
    await this.adminLogRepository.save(logData);
  }
}
```

**1.3.3 创建审计装饰器**
```bash
创建文件:
- backend/src/common/decorators/audit.decorator.ts
```

```typescript
export const Audit = (action: string, resource: string) => 
  SetMetadata('audit', { action, resource });
```

**验收标准**:
- [ ] 管理员操作自动记录到数据库
- [ ] 包含完整的操作信息（时间、IP、详情）
- [ ] 可查询历史操作记录

---

### 📅 Phase 2: API路由重构（第2周）

#### 任务2.1: Banner模块重构 [1天]

**2.1.1 创建三层Controller**
```bash
创建文件:
- backend/src/modules/banner/public-banner.controller.ts
- backend/src/modules/banner/admin-banner.controller.ts
```

```typescript
// public-banner.controller.ts
@Controller('api/public/banner')
export class PublicBannerController {
  @Public()
  @Get('list')
  async getActiveBanners() {
    return this.bannerService.findActive();
  }
}

// admin-banner.controller.ts
@Controller('api/admin/banner')
@UseGuards(JwtAuthGuard, AdminGuard)
export class AdminBannerController {
  @Get('list')
  @Audit('BANNER_LIST', 'banner')
  async getAllBanners(@Query() query: QueryBannerDto) {
    return this.bannerService.findAll(query);
  }
  
  @Post()
  @Audit('BANNER_CREATE', 'banner')
  async createBanner(@Body() dto: CreateBannerDto, @User() user) {
    return this.bannerService.create(dto, user.id);
  }
  
  @Patch(':id')
  @Audit('BANNER_UPDATE', 'banner')
  async updateBanner(@Param('id') id: number, @Body() dto: UpdateBannerDto) {
    return this.bannerService.update(id, dto);
  }
  
  @Delete(':id')
  @Audit('BANNER_DELETE', 'banner')
  async deleteBanner(@Param('id') id: number) {
    return this.bannerService.softDelete(id);
  }
}
```

**2.1.2 扩展Service方法**
```typescript
// banner.service.ts
async findActive(): Promise<Banner[]> {
  return this.bannerRepository.find({
    where: { isActive: true, deletedAt: IsNull() },
    order: { sortOrder: 'ASC' },
    select: ['id', 'title', 'imageUrl', 'linkUrl']
  });
}

async findAll(query: QueryBannerDto): Promise<PaginatedResult<Banner>> {
  const { page = 1, pageSize = 10, status } = query;
  const [items, total] = await this.bannerRepository.findAndCount({
    where: { 
      ...(status && { isActive: status === 'active' }),
      deletedAt: IsNull()
    },
    order: { sortOrder: 'ASC' },
    skip: (page - 1) * pageSize,
    take: pageSize
  });
  
  return {
    items,
    total,
    page,
    pageSize,
    totalPages: Math.ceil(total / pageSize)
  };
}

async softDelete(id: number): Promise<void> {
  await this.bannerRepository.update(id, { deletedAt: new Date() });
}
```

**验收标准**:
- [ ] 公开接口返回启用的banner
- [ ] 管理接口支持CRUD操作
- [ ] 支持分页和筛选
- [ ] 操作记录到审计日志

---

#### 任务2.2: 提示词模板模块重构 [1天]

类似Banner模块，创建：
```bash
- backend/src/modules/prompt-template/public-prompt-template.controller.ts
- backend/src/modules/prompt-template/admin-prompt-template.controller.ts
```

**新增功能**:
- 批量启用/禁用
- 拖拽排序
- 使用统计查询

**验收标准**:
- [ ] 公开接口返回启用的模板
- [ ] 管理接口支持完整CRUD
- [ ] 支持批量操作
- [ ] 统计数据准确

---

#### 任务2.3: 热门推荐模块重构 [1天]

```bash
创建文件:
- backend/src/modules/hot-recommendation/public-hot-recommendation.controller.ts
- backend/src/modules/hot-recommendation/admin-hot-recommendation.controller.ts
```

**新增功能**:
- 推荐分类管理
- 播放统计查询
- 热度排行榜

**验收标准**:
- [ ] 小程序可以获取推荐音乐
- [ ] 管理后台可以管理推荐内容
- [ ] 播放统计数据准确

---

#### 任务2.4: 用户接口重构 [2天]

**2.4.1 创建用户Controller**
```bash
修改文件:
- backend/src/modules/user/user.controller.ts (改为用户端)
创建文件:
- backend/src/modules/user/admin-user.controller.ts
```

**用户端接口** (`/api/user/profile`)
- GET /profile - 获取个人信息
- PATCH /profile - 更新个人信息
- POST /checkin - 每日签到
- GET /stats - 个人统计

**管理端接口** (`/api/admin/users`)
- GET /list - 用户列表（分页、搜索）
- GET /:id - 用户详情
- POST /:id/ban - 封禁用户
- POST /:id/unban - 解封用户
- PATCH /:id/credits - 调整用户积分

**验收标准**:
- [ ] 用户可以管理自己的信息
- [ ] 管理员可以查看和管理所有用户
- [ ] 敏感信息（openid）不暴露给管理员

---

### 📅 Phase 3: 管理接口开发（第3周）

#### 任务3.1: 数据统计接口 [3天]

**3.1.1 创建统计模块**
```bash
创建文件:
- backend/src/modules/statistics/statistics.module.ts
- backend/src/modules/statistics/statistics.controller.ts
- backend/src/modules/statistics/statistics.service.ts
```

**接口列表**:

```typescript
// /api/admin/statistics

// 仪表板概览
@Get('dashboard')
async getDashboard(): Promise<DashboardStats> {
  return {
    users: {
      total: number,
      today: number,
      active: number
    },
    works: {
      total: number,
      today: number,
      public: number
    },
    credits: {
      consumed: number,
      recharged: number,
      balance: number
    },
    revenue: {
      today: number,
      week: number,
      month: number
    }
  };
}

// 用户增长趋势
@Get('users/growth')
async getUserGrowth(@Query() query: DateRangeDto): Promise<ChartData> {
  // 返回时间序列数据
}

// 作品统计
@Get('works/stats')
async getWorksStats(@Query() query: DateRangeDto): Promise<WorksStats> {
  // 按风格、时长等维度统计
}

// 收入统计
@Get('revenue/trend')
async getRevenueTrend(@Query() query: DateRangeDto): Promise<ChartData> {
  // 收入趋势图数据
}
```

**验收标准**:
- [ ] 仪表板数据准确
- [ ] 图表数据格式正确
- [ ] 支持自定义日期范围
- [ ] 查询性能良好（<500ms）

---

#### 任务3.2: 订单管理接口 [2天]

```bash
创建文件:
- backend/src/modules/payment/admin-payment.controller.ts
```

**接口列表**:
```typescript
// /api/admin/orders

// 订单列表
@Get('list')
async getOrders(@Query() query: QueryOrderDto): Promise<PaginatedResult<Order>> {
  // 支持按状态、用户、日期筛选
}

// 订单详情
@Get(':id')
async getOrderDetail(@Param('id') id: string): Promise<Order> {
  // 包含用户信息、套餐信息
}

// 订单统计
@Get('statistics')
async getOrderStatistics(@Query() query: DateRangeDto): Promise<OrderStats> {
  // 订单量、金额统计
}

// 退款操作
@Post(':id/refund')
async refundOrder(@Param('id') id: string, @Body() dto: RefundDto): Promise<void> {
  // 执行退款逻辑
}
```

**验收标准**:
- [ ] 可查看所有订单
- [ ] 支持多维度筛选
- [ ] 退款流程正确
- [ ] 操作记录到审计日志

---

#### 任务3.3: 系统配置接口 [2天]

```bash
创建文件:
- backend/src/modules/system/system.module.ts
- backend/src/modules/system/admin-system.controller.ts
- backend/src/modules/system/system.service.ts
```

**接口列表**:
```typescript
// /api/admin/system

// 获取配置列表
@Get('configs')
async getConfigs(): Promise<SystemConfig[]> {
  // 返回可配置项
}

// 更新配置
@Patch('configs/:key')
async updateConfig(@Param('key') key: string, @Body() dto: UpdateConfigDto): Promise<void> {
  // 更新配置项
}

// 获取操作日志
@Get('logs')
async getLogs(@Query() query: QueryLogDto): Promise<PaginatedResult<AdminLog>> {
  // 返回管理员操作日志
}

// 系统健康检查
@Get('health')
async getHealth(): Promise<HealthStatus> {
  return {
    database: 'ok',
    redis: 'ok',
    storage: 'ok',
    api: 'ok'
  };
}
```

**验收标准**:
- [ ] 可动态修改系统配置
- [ ] 操作日志完整可查
- [ ] 健康检查准确

---

### 📅 Phase 4: 前端对接与测试（第4周）

#### 任务4.1: 小程序API调整 [1天]

**4.1.1 更新API路径**
```javascript
// miniprogram/api/api.js

// 旧路径: /banner/list
// 新路径: /api/public/banner/list

export default {
  // 公开接口
  getBanners() {
    return minRequest.get('/api/public/banner/list');
  },
  
  getPromptTemplates(category) {
    return minRequest.get('/api/public/prompt-template/list', { category });
  },
  
  getHotRecommendations(params) {
    return minRequest.get('/api/public/hot-recommendation/list', params);
  },
  
  // 用户接口
  getUserProfile() {
    return minRequest.get('/api/user/profile');
  },
  
  createMusicTask(params) {
    return minRequest.post('/api/user/music/generate', params);
  },
  
  // ... 其他接口
};
```

**验收标准**:
- [ ] 所有接口路径更新
- [ ] 小程序功能正常
- [ ] 无报错或异常

---

#### 任务4.2: 管理后台API集成 [2天]

**4.2.1 创建API服务**
```typescript
// admin/src/api/index.ts

import axios from 'axios';

const http = axios.create({
  baseURL: 'http://192.168.1.118:3000',
  timeout: 30000
});

// 请求拦截器
http.interceptors.request.use(config => {
  const token = localStorage.getItem('admin_token');
  if (token) {
    config.headers.Authorization = `Bearer ${token}`;
  }
  return config;
});

// 响应拦截器
http.interceptors.response.use(
  response => response.data.data,
  error => {
    if (error.response?.status === 401) {
      // 跳转登录
      router.push('/login');
    }
    return Promise.reject(error);
  }
);

export const adminApi = {
  // 认证
  auth: {
    login: (data: LoginDto) => 
      http.post('/api/auth/admin-login', data),
    
    logout: () => 
      http.post('/api/auth/logout'),
  },
  
  // Banner管理
  banner: {
    list: (params?: QueryParams) => 
      http.get('/api/admin/banner/list', { params }),
    
    create: (data: CreateBannerDto) => 
      http.post('/api/admin/banner', data),
    
    update: (id: number, data: UpdateBannerDto) => 
      http.patch(`/api/admin/banner/${id}`, data),
    
    delete: (id: number) => 
      http.delete(`/api/admin/banner/${id}`),
  },
  
  // 用户管理
  users: {
    list: (params?: QueryParams) => 
      http.get('/api/admin/users/list', { params }),
    
    detail: (id: number) => 
      http.get(`/api/admin/users/${id}`),
    
    ban: (id: number) => 
      http.post(`/api/admin/users/${id}/ban`),
    
    unban: (id: number) => 
      http.post(`/api/admin/users/${id}/unban`),
  },
  
  // 数据统计
  statistics: {
    dashboard: () => 
      http.get('/api/admin/statistics/dashboard'),
    
    userGrowth: (params: DateRangeParams) => 
      http.get('/api/admin/statistics/users/growth', { params }),
    
    revenueTrend: (params: DateRangeParams) => 
      http.get('/api/admin/statistics/revenue/trend', { params }),
  },
  
  // 系统管理
  system: {
    configs: () => 
      http.get('/api/admin/system/configs'),
    
    updateConfig: (key: string, value: any) => 
      http.patch(`/api/admin/system/configs/${key}`, { value }),
    
    logs: (params?: QueryParams) => 
      http.get('/api/admin/system/logs', { params }),
    
    health: () => 
      http.get('/api/admin/system/health'),
  }
};
```

**4.2.2 更新管理后台页面**
```bash
更新文件:
- admin/src/views/Content/BannerManagement.vue
- admin/src/views/Content/PromptTemplateManagement.vue
- admin/src/views/Content/RecommendationManagement.vue
- admin/src/views/Users/UserManagement.vue
- admin/src/views/Dashboard/Dashboard.vue
```

将现有的mock数据替换为真实API调用。

**验收标准**:
- [ ] 所有页面数据来自真实API
- [ ] CRUD操作正常
- [ ] 错误处理完善
- [ ] Loading状态正确显示

---

#### 任务4.3: 全面测试 [2天]

**4.3.1 功能测试清单**

**小程序端测试**:
- [ ] 首页banner正常显示
- [ ] 热门推荐正常加载
- [ ] 提示词模板正常使用
- [ ] 音乐生成功能正常
- [ ] 歌词生成功能正常
- [ ] 个人中心信息正确
- [ ] 积分充值流程正常
- [ ] 作品管理功能正常

**管理后台测试**:
- [ ] 登录功能正常
- [ ] 仪表板数据准确
- [ ] Banner管理CRUD正常
- [ ] 提示词管理CRUD正常
- [ ] 推荐管理CRUD正常
- [ ] 用户管理功能正常
- [ ] 数据统计图表正确
- [ ] 操作日志完整记录
- [ ] 系统配置功能正常

**4.3.2 权限测试**
- [ ] 普通用户无法访问管理接口
- [ ] 管理员可以访问所有管理接口
- [ ] Token过期正确处理
- [ ] 未登录重定向正确

**4.3.3 性能测试**
- [ ] 列表接口响应时间 < 200ms
- [ ] 统计接口响应时间 < 500ms
- [ ] 并发100用户无异常

**4.3.4 安全测试**
- [ ] SQL注入防护
- [ ] XSS攻击防护
- [ ] CSRF防护
- [ ] 敏感信息脱敏

---

## 4. 风险管理

### 4.1 潜在风险

| 风险 | 影响 | 概率 | 应对措施 |
|------|------|------|----------|
| 现有功能受影响 | 高 | 中 | 渐进式重构，充分测试 |
| 性能下降 | 中 | 低 | 添加缓存和索引 |
| 数据迁移失败 | 高 | 低 | 备份数据，可回滚 |
| 前端对接问题 | 中 | 中 | 提前对齐接口文档 |

### 4.2 回滚方案

如果遇到严重问题，可以按以下步骤回滚：

1. **代码回滚**: 恢复到重构前的Git提交
   ```bash
   git revert <commit-hash>
   ```

2. **数据库回滚**: 执行回滚脚本
   ```sql
   -- 如果添加了新字段，执行DROP COLUMN
   -- 如果修改了数据，从备份恢复
   ```

3. **缓存清理**:
   ```bash
   redis-cli FLUSHALL
   ```

4. **服务重启**:
   ```bash
   pm2 restart backend
   ```

---

## 5. 质量保障

### 5.1 代码规范

- 遵循ESLint规则
- 所有Controller方法添加注释
- 复杂逻辑提取为Service方法
- 使用TypeScript严格模式

### 5.2 测试覆盖

- **单元测试**: 核心Service方法
- **集成测试**: API接口端到端测试
- **E2E测试**: 关键业务流程

```bash
# 运行测试
npm run test

# 测试覆盖率报告
npm run test:cov

# 目标：覆盖率 > 60%
```

### 5.3 性能指标

| 指标 | 目标 |
|------|------|
| API响应时间（P95） | < 500ms |
| 数据库查询时间 | < 100ms |
| 并发用户 | > 100 |
| 错误率 | < 0.1% |

---

## 6. 部署计划

### 6.1 部署环境

- **开发环境**: 本地开发和测试
- **测试环境**: 功能测试和压力测试
- **生产环境**: 正式上线

### 6.2 部署步骤

```bash
# 1. 备份数据库
mysqldump -u root -p music_platform > backup_$(date +%Y%m%d).sql

# 2. 拉取最新代码
git pull origin main

# 3. 安装依赖
cd backend && npm install

# 4. 运行数据库迁移
npm run migration:run

# 5. 构建项目
npm run build

# 6. 重启服务
pm2 restart backend

# 7. 验证部署
curl http://localhost:3000/api/health
```

### 6.3 监控

- **日志监控**: 使用PM2查看日志
  ```bash
  pm2 logs backend
  ```

- **性能监控**: 使用PM2 Plus或自建监控
  ```bash
  pm2 plus
  ```

- **错误告警**: 配置错误邮件通知

---

## 7. 文档与培训

### 7.1 需要更新的文档

- [ ] API接口文档（Swagger）
- [ ] 管理后台使用手册
- [ ] 数据库设计文档
- [ ] 部署运维手册

### 7.2 培训计划

**管理员培训**:
- 管理后台功能介绍
- 常用操作演示
- 异常处理指南

**开发团队培训**:
- 新架构设计讲解
- 代码规范说明
- 常见问题解答

---

## 8. 里程碑与验收

### 8.1 里程碑

| 阶段 | 时间节点 | 关键产出 |
|------|----------|----------|
| Phase 1 | 第1周结束 | 权限系统、日志系统 |
| Phase 2 | 第2周结束 | API路由重构完成 |
| Phase 3 | 第3周结束 | 管理接口开发完成 |
| Phase 4 | 第4周结束 | 全面测试通过，上线 |

### 8.2 最终验收标准

**功能验收**:
- [ ] 小程序功能完整可用
- [ ] 管理后台所有模块正常
- [ ] 权限控制正确无误

**性能验收**:
- [ ] API响应时间达标
- [ ] 并发压力测试通过
- [ ] 数据库查询优化完成

**安全验收**:
- [ ] 安全测试无高危漏洞
- [ ] 操作审计完整
- [ ] 敏感信息保护到位

**文档验收**:
- [ ] API文档完整准确
- [ ] 使用手册清晰易懂
- [ ] 部署文档可执行

---

## 9. 后续优化计划

### 9.1 短期优化（上线后1个月）

- [ ] 根据实际使用反馈优化交互
- [ ] 补充遗漏的功能点
- [ ] 性能调优
- [ ] 修复发现的bug

### 9.2 中期规划（3个月）

- [ ] 添加更多数据分析维度
- [ ] 实现导出功能（Excel、PDF）
- [ ] 增加更多批量操作
- [ ] 移动端管理后台

### 9.3 长期规划（6个月+）

- [ ] 权限系统细化（角色+权限）
- [ ] 工作流审批系统
- [ ] 多租户支持
- [ ] 国际化支持

---

## 10. 团队分工建议

根据项目规模，建议分工：

| 角色 | 职责 | 工作量 |
|------|------|--------|
| 后端开发1 | Phase 1基础设施 + Phase 2路由重构 | 2周 |
| 后端开发2 | Phase 3管理接口开发 | 1.5周 |
| 前端开发 | Phase 4前端对接 | 1.5周 |
| 测试工程师 | Phase 4测试 + 全流程质量保障 | 持续 |
| 项目经理 | 整体协调 + 文档整理 | 持续 |

---

## 11. 附录

### 11.1 相关文档

- [API架构设计方案](./API架构设计方案.md)
- [数据库设计文档](../database/数据库设计文档.md)
- [管理后台README](../../admin/README.md)

### 11.2 常用命令

```bash
# 启动开发服务器
npm run start:dev

# 构建生产版本
npm run build

# 运行测试
npm run test

# 数据库迁移
npm run migration:run

# 查看日志
pm2 logs backend

# 重启服务
pm2 restart backend
```

### 11.3 联系方式

- **技术负责人**: [待填写]
- **产品经理**: [待填写]
- **项目经理**: [待填写]

---

**文档编写**: AI Assistant  
**审核状态**: 待审核  
**最后更新**: 2024-01-20
